.. _ignoreList :

===================
Черный/белый список
===================

В дополнение к странице настроек :ref:`ignoredObjects`, существует возможность хранить черный/белый список объектов для каждого проекта. Программа автоматически читает такой список из файла **.pgcodekeeperignore** в корне проекта.

Черный список разрешает показ всего, кроме объектов, указанных в списке. Белый список запрещает показ всех объектов, кроме явно указанных в правилах списка.

Черные и белые списки могут использоваться вместе. В таком случае, их правила объединяются в один общий список. Правила, контролирующие отображение одного и того же объекта, складываются в одно общее правило по следующим принципам:

- если "широта" правил различается, то преобладает более широкое правило (включающее в себя сам объект и его содержимое)
- если "широта" правил одинакова, то преобладает скрывающее объект правило

Под "широтой" здесь подразумевает состояние опции правила *Игнорировать содержимое*.

Синтаксис списков
~~~~~~~~~~~~~~~~~

Формат файлов чувствителен к регистру. Кодировка – UTF-8.

**Черный список**

 | # комментарий
 | SHOW ALL
 | HIDE flag [, ...] identifier [ db=identifier ] [ type=identifier ] # комментарий
 | [ ... ]

**Белый список**

 | # комментарий
 | HIDE ALL
 | SHOW flag [, ...] identifier [ db=identifier ] [ type=identifier ] # комментарий
 | [ ... ]

Где:

flag
        { NONE | REGEX | CONTENT }
identifier
    | строка-идентификатор без кавычек, состоящая из латинских букв, цифр и подчеркиваний; 
    | не может начинаться с цифры; 
    | строка идентификатор не может быть ключевым словом (зарезервированной директивой языка)
    | **или**
    | строка, ограниченная двойными кавычками " или апострофами ' (ограничители в начале и в конце строки должны совпадать); 
    | ограничители, содержащиеся в строке экранируются повтором символа (например: "1""2'3" или '1"2''3')


Флаги:

:REGEX: воспринимает identifier не буквально, а как регулярное выражение
:CONTENT: применяет правило для совпавшего объекта и всего его содержимого
:NONE: не имеет эффекта (применять при отсутствии флагов)

Дополнительные опции:

- db=identifier правило будет применено только к БД, имя которой подходит под регулярное выражение, заданное этим параметром
- type=identifier правило будет применено только к объектам с указанным типом

Ключевые слова:

 HIDE SHOW ALL REGEX CONTENT NONE
 
Эти слова не могут быть идентификаторами, для их использования они должны быть взяты в кавычки. Зарезервированы только слова, полностью совпадающие по регистру, например Content – разрешенный идентификатор.
